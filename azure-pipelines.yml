
trigger:

- master

pool:
  vmImage: ubuntu-latest


variables:
 
  IMAGE_TAG: latest

steps:

- task: SonarQubePrepare@5
  inputs:
    SonarQube: 'sonarqubeServer'
    scannerMode: 'MSBuild'
    projectKey: 'pfa_pfa_AYfYhOmun44-h-8FJYUe'
- task: DockerCompose@0
  inputs:
    containerregistrytype: 'Azure Container Registry'
    dockerComposeFile: '**/docker-compose.yml'
    action: 'Build services'
- task: DotNetCoreCLI@2
  displayName: 'dotnet build src/aspnetrun-microservices.sln'
  continueOnError: true

- task: SonarQubeAnalyze@5
- task: SonarQubePublish@5
  inputs:
    pollingTimeoutSec: '300'

   
    


